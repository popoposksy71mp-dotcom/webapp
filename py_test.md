ユーザーインターフェース (UI)

Streamlit: アプリのUIはすべてStreamlitで構築します。これにより、HTML、CSS、JavaScriptを書くことなく、Pythonだけでシンプルかつ機能的なWebページを作成できます。

メイン画面: メイン画面には、Geminiが生成した問題文が表示されます。その下に、ユーザーがコードを入力するためのテキストエリアを配置します。

ボタン: 「コードを評価する」ボタンと「次の問題へ」ボタンを用意します。

「コードを評価する」ボタンは、入力されたコードをGeminiに送信し、評価結果を表示します。

「次の問題へ」ボタンは、現在の問題をクリアし、新しい問題を生成します。

フィードバック表示: 評価結果は、問題文の下に新しく表示されるセクションに表示されます。これにより、ユーザーは問題とフィードバックを同時に確認できます。

バックエンドとロジック

Google Gemini API: アプリの核となる機能は、Gemini APIが担います。

問題生成: アプリが起動したとき、または「次の問題へ」ボタンがクリックされたときに、Gemini APIに「Pythonの基礎問題を作成してください」というプロンプトを送信します。

コード評価: 「コードを評価する」ボタンがクリックされたときに、問題文とユーザーが入力したコードをGemini APIに送信し、評価を依頼します。

Streamlitのセッション管理: Streamlitのst.session_stateを使用して、問題文、フィードバック、およびUIの状態を管理します。これにより、ユーザーがページを操作しても、問題やフィードバックが保持されます。

アプリケーションのフロー

アプリ起動: ユーザーがブラウザでアプリにアクセスすると、Streamlitがapp.pyを実行します。

問題生成: アプリは、Gemini APIにリクエストを送信し、最初の問題を生成して表示します。

ユーザー解答: ユーザーは表示された問題を見て、テキストエリアにPythonコードを入力します。

コード評価: ユーザーが「コードを評価する」ボタンをクリックすると、入力されたコードと問題文がGemini APIに送信されます。

フィードバック表示: Gemini APIからの評価結果がアプリに返送され、画面に表示されます。

次の問題へ: ユーザーが「次の問題へ」ボタンをクリックすると、新しい問題が生成され、このサイクルが繰り返されます。

この構成により、ユーザーは手軽にPythonの知識を試すことができ、Geminiによる個別化されたフィードバックを通じて効率的に学習できます。